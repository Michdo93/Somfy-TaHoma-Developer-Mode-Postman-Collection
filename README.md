# Somfy-TaHoma-Developer-Mode-Postman-Collection
A postman collection of requests to use a local API with Somfy TaHoma gateways 

[[Postman]](https://www.postman.com/downloads/) is an API platform for developers to design, build, test and iterate their APIs. You can use it to access the Somfy TaHoma Developer API. For this you can download the Postman JSON Collection file and import it to Postman.

This could be used to activate the [Developer Mode](https://github.com/Somfy-Developer/Somfy-TaHoma-Developer-Mode) of your TaHoma Box.

## Usage

Download the Postman JSON Collection file and open it with a text editor. You have to change following variables:

```
	"variable": [
		{
			"key": "email",
			"value": "<email>"
		},
		{
			"key": "pasword",
			"value": "<password>"
		},
		{
			"key": "sessionid",
			"value": ""
		},
		{
			"key": "token",
			"value": ""
		},
		{
			"key": "pod",
			"value": "<pod>"
		},
		{
			"key": "url",
			"value": "<url>"
		},
		{
			"key": "uuid",
			"value": "",
			"type": "default"
		}
```

Please replace `<email>` with your registered email address. You also have to change `<password>` with the password of your registered email address. For `<pod>` you have to use the pin of your gateway (eg. 1234-5678-9012). At least you have to replace `<url>` with as example `ha101-1.overkiz.com` or `www.tahomalink.com`. This maybe dependes on which country your cloud login is located.

**Please do not change the values for `sessionid`, `token` or `uid`!** The are generated by executing one of your requests.

The `sessionid` will created by using the request `Login`. The `token` will be generated by executing `Generate a token`. After that you have to run `Activate token` to activate the generated token. In the next step you can execute `Get available tokens`. There the `uuid` will be set to the first uuid. Maybe you have multiple tokens. If you want to change it go to `Tests` and change following:

```
pm.collectionVariables.set("uuid", jsonData[0].uuid);
```

You have to change the `0`. If you only have one token, it still should be `0`. If you have to two tokens and you will later delete the first token you also do not have to change it. But if you want to delete the second token you have to replace the `0` with `1`.

At least you can replace your token if you want to by executing `Delete a token`. If you want to delete maybe all tokens it is possible to run `Get available tokens` and `Delete a token` multiple times one after the other (in a loop). So each time the first token will be deleted until there does not exist a token.
